\newpage
\section{Chapter 1}


\begin{problem} ***
By Yoneda lemma, the morphism $\Spec(B) \to \Spec(A)$ of affine schemes
corresponds to the $k$-algebra morphism $\phi: A \to B$.
This induces a map on the underlying topological spaces by sending a prime ideal
$\mathfrak{p} \subset B$ to $\phi^{-1}(\mathfrak{p}) \subset A$, which is also prime.
\end{problem}

\begin{problem} ***
\end{problem}

\begin{problem}
By Yoneda lemma, we have 
$$
\mathrm{Mor}(\Spec(B), \Spec(A)) \simeq \mathrm{Nat}(h^{B}, h^{A}) \simeq h^{B}(A) = \Hom_{k}(A, B)
$$
which gives an equivalence between $\mathbf{AffSch}_{k}^{\mathrm{op}}$ and $\mathbf{Alg}_{k}$.
\end{problem}

\begin{problem}
    \begin{itemize}
        \item Nonreduced: $\Spec(\mathbb{C}[x]/(x^{2}))$
        \item Reducible: $\Spec(\mathbb{C}[x, y]/(x, y))$
        \item Reduced and irreducible (i.e. integral): $\Spec(\mathbb{C}[x])$
    \end{itemize}
\end{problem}

\begin{problem} 
We can assume that $Y = \Spec(A)$ and $X = \Spec(A/I)$ for some $k$-algebra $A$ and an ideal $I$ of $A$.
Then it is enough to show that the map $\Hom(A/I, R) \to \Hom(A, R)$, given by composing with
the natural map $\pi: A \to A/I$, is injective.
This follows from the surjectivity of $\pi$.
\end{problem}

\begin{problem}
Let $X = \Spec(A), Y = \Spec(B), Z = \Spec(C)$. Then the statement is equivalent to
$$
    \Hom(A \otimes_{B}C, R) \simeq \Hom(A, R) \times_{\Hom(B, R)} \Hom(C, R).
$$
We can define a bijection as follows. First, consider the following commutative diagram:
\begin{center}
\begin{tikzcd}
    A \arrow[r, "\iota_{A}"]
    & A \otimes_B C \\
    B \arrow[r, "\gamma"] \arrow[u, "\alpha"]
    &  C \arrow[u, "\iota_{C}"]
\end{tikzcd}
\end{center}
Using the maps above, we define a map from LHS to RHS as $\phi \mapsto (\phi \iota_{A}, \phi\iota_{C})$.
Since $\iota_{A}\alpha = \iota_{C}\gamma$, we have $\phi\iota_{A}\alpha = \phi\iota_{C}\gamma$ and the
map is well-defined.
For the other direction, for given $(f, g): A\times C \to R$ with $f\alpha = g \gamma$, universal property of the tensor product
gives a unique map $\phi: A\otimes_{B} C \to R$ with $f = \phi\iota_{A}$ and $g = \phi\iota_{C}$.
We can check that these maps are inverses for each other.
\end{problem}

\begin{problem} ***
\end{problem}

\begin{problem} ***
We define an $\mathbb{R}$-algebra $A$ as
$$
    A = \mathbb{R}[(x_{ij}, y_{ij})_{1 \leq i, j \leq n}] / I
$$
where $I$ is an ideal generated by elements of the form
\begin{align*}
    &\left(\sum_{k=1}^{n} (x_{ik}^{2} + y_{ik}^{2}) \right) - 1, \\
    &\sum_{k=1}^{n} (x_{ik}x_{jk} - y_{ik}y_{jk}), \quad i \neq j \\
    &\sum_{k=1}^{n} (x_{ij}y_{jk} + y_{ik}x_{jk}), \quad i \neq j
\end{align*}
for $1\leq i, j \leq n$.
Then we can identify $\mathrm{U}_{n}(R)$ with $\Hom(A, R)$ as follows: for given $\phi : A \to R$,
let $\alpha_{ij} = \phi(x_{ij})$ and $\beta_{ij} = \phi(y_{ij})$.
Then a matrix $g = (g_{ij})_{1\leq i, j \leq n}$ with $g_{ij} = 1 \otimes \alpha_{ij} + \sqrt{-1} \otimes \beta_{ij}$ becomes an element
of $U_{n}(R)$ by the relations of $x_{ij}$ and $y_{ij}$s defined by the ideal $I$.
Similarly, for given $g = (g_{ij}) \in \mathrm{U}_{n}(R)$, we can write $g_{ij} = (a_{ij} + \sqrt{-1}b_{ij}) \otimes r_{ij} = 1 \otimes a_{ij}r_{ij} + \sqrt{-1} \otimes b_{ij}r_{ij}$
and we have a corresponding map $\phi : A \to R$ sending $x_{ij}$ to $a_{ij}r_{ij}$ and $y_{ij}$ to $b_{ij}r_{ij}$.

The group $\mathrm{U}_n(\mathbb{R})$ is a compact group (as a topological subgroup of $\GL_{n}(\mathbb{C})$)
since it is closed (it is an inverse image of point $I$ of a continuous map $g \to g \overline{g}^{t}$) and bounded (each row and column vectors have norm 1).

At last, NOT FINISHED
\end{problem}

\begin{problem}
Consider the following short exact sequence:
$$
    0 \to \ker(\epsilon) / \ker(\epsilon)^{2} \to \mathcal{O}(G) / \ker(\epsilon)^{2} \to k \to 0.
$$
The map $O(G) / \ker(\epsilon)^{2} \to k$ is defined as a composition of the natural map $\mathcal{O}(G)/\ker(\epsilon)^{2} \to \mathcal{O}(G)/\ker(\epsilon)$
followed by $\epsilon$.
Then we have a section $k \to \mathcal{O}(G)/\ker(\epsilon)$ which is the composition $k \to \mathcal{O}(G) \to \mathcal{O}(G)/\ker(\epsilon)^{2}$ and the above sequence splits.
\end{problem}

\begin{problem}
Let $g = (g_{ij}) \in GL_{n}(R)$ and $J = (\alpha_{ij}) \in \GL_{n}(k)$.
Then $g^{t}Jg = J$ is equivalent to
$$
    \sum_{k, l = 1}^{n} \alpha_{kl}g_{ki}g_{lj} = \alpha_{ij}
$$
for all $1\leq i, j \leq n$.
Hence $G$ is an affine algebraic group with a coordinate ring
$$
A = k[(X_{ij})_{1\leq i, j \leq n}]/\left(\sum_{k, l =1}^{n} \alpha_{kl}X_{ki}X_{lj} - \alpha_{ij}, 1\leq i, j \leq n\right).
$$
Since $\Lie G = \ker(G(k[t]/t^{2}) \to G(k))$, the elements of $\Lie G$ have a form of $I + tX$ for some $X\in \mathrm{M}_{n}(k)$.
Then the defining equation $g^{t}Jg = J$ is equivalent to
$$
    (I + tX)^{t}J(I + tX) = J \Leftrightarrow J + tX^{t}J + tJX + t^{2}X^{t}JX = J + t(X^{t}J + JX) = J,
$$
(here every elements are in $\GL_{n}(k[t]/t^{2})$) so we should have $X^{t}J + JX = 0$.
In other words, we have a map
$$
\Lie G \xrightarrow{\sim} \{X \in \mathfrak{gl}_{n}(k)\,:\, X^{t}J + JX\}, \quad I + tX \to X.
$$
\end{problem}

\begin{problem} ***
\end{problem}

\begin{problem} ***
\end{problem}

\begin{problem}
Using the equivalence of $\mathbf{Spl}_{k}$ and $\mathbf{RRD}$, it is enough to check that the dual of the root datum
of $\GL_{n}$ is isomorphic to itself in $\mathbf{RRD}$.
Recall that the root datum of $\GL_{n}$ with torus $T$ of diagonal elements is given as follows: (Example 1.12)
\begin{itemize}
    \item $X^{*}(T) = \{
        \alpha_{k_1, \dots, k_{n}}: \mathrm{diag}(t_{1}, \dots, t_{n}) \mapsto \prod_{1\leq j \leq n}t_{j}^{k_{j}}, \, k_{1}, \dots, k_{n} \in \mathbb{Z}
    \}\simeq \mathbb{Z}^{n}$
    \item $X_{*}(T) = \{\beta_{k_{1}, \dots, k_{n}}:t \mapsto \diag(t^{k_{1}}, \dots, t^{k_{n}}),\, t_{1}, \dots, t_{n} \in \mathbb{Z}\} \simeq \mathbb{Z}^{n}$
    \item $\Phi(\GL_{n}, T) = \{e_{ij},\,1\leq i\neq j \leq n\},\,e_{ij}(\diag(t_{1}, \dots, t_{n})) = t_{i}t_{j}^{-1}$
    \item $\Phi^{\vee}(\GL_{n}, T) = \{e_{ij},\,1\leq i\neq j \leq n\},\,e_{ij}^{\vee}(t) = \diag(1, \dots, t, \dots, t^{-1}, \dots, 1)$ ($t$ in the $i$-th entry, $t^{-1}$ in the $j$-th entry, 1 for other entries)
\end{itemize}
Then we define a map $f: X_{*}(T) \to X^{*}(T)$ and $\iota: \Phi(\GL_{n}, T) \to \Phi^{\vee}(\GL_{n}, T)$ as
$$
    f(\beta_{k_1, \dots, k_n}) = \alpha_{k_1, \dots, k_n}, \quad \iota(e_{ij}) = e_{ij}^{\vee}.
$$
and define $f^{\vee}: X^{*}(T) \to X_{*}(T)$ and $\iota^{\vee}: \Phi^{\vee}(\GL_{n}, T) \to \Phi(\GL_{n}, T)$ similarly.
Then these maps are inverse to each other and gives an isomorphism between two root data
$$
    (X^{*}(T), X_{*}(T), \Phi(\GL_{n}, T), \Phi^{\vee}(\GL_{n}, T)) \simeq (X_{*}(T), X^{*}(T), \Phi^{\vee}(\GL_{n}, T), \Phi(\GL_{n}, T))
$$
(they are central isogenies) so we get $\widehat{\GL_{n}} = \GL_{n\mathbb{C}}$.
\end{problem}

\begin{problem} ***
\end{problem}

\begin{problem} ***
\end{problem}
